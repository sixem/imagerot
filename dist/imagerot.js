!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("imagerot",[],t):"object"==typeof exports?exports.imagerot=t():e.imagerot=t()}(this,(()=>{return e={292:(e,t,n)=>{const o=n(850);t.parseFont=o,t.createCanvas=function(e,t){return Object.assign(document.createElement("canvas"),{width:e,height:t})},t.createImageData=function(e,t,n){switch(arguments.length){case 0:return new ImageData;case 1:return new ImageData(e);case 2:return new ImageData(e,t);default:return new ImageData(e,t,n)}},t.loadImage=function(e,t){return new Promise((function(n,o){const i=Object.assign(document.createElement("img"),t);function r(){i.onload=null,i.onerror=null}i.onload=function(){r(),n(i)},i.onerror=function(){r(),o(new Error('Failed to load the image "'+e+'"'))},i.src=e}))}},850:e=>{"use strict";const t="'([^']+)'|\"([^\"]+)\"|[\\w\\s-]+",n=new RegExp("(bold|bolder|lighter|[1-9]00) +","i"),o=new RegExp("(italic|oblique) +","i"),i=new RegExp("(small-caps) +","i"),r=new RegExp("(ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded) +","i"),a=new RegExp(`([\\d\\.]+)(px|pt|pc|in|cm|mm|%|em|ex|ch|rem|q) *((?:${t})( *, *(?:${t}))*)`),c={};e.exports=e=>{if(c[e])return c[e];const t=a.exec(e);if(!t)return;const u={weight:"normal",style:"normal",stretch:"normal",variant:"normal",size:parseFloat(t[1]),unit:t[2],family:t[3].replace(/["']/g,"").replace(/ *, */g,",")};let f,d,s,l;const h=e.substring(0,t.index);switch((f=n.exec(h))&&(u.weight=f[1]),(d=o.exec(h))&&(u.style=d[1]),(s=i.exec(h))&&(u.variant=s[1]),(l=r.exec(h))&&(u.stretch=l[1]),u.unit){case"pt":u.size/=.75;break;case"pc":u.size*=16;break;case"in":u.size*=96;break;case"cm":u.size*=96/2.54;break;case"mm":u.size*=96/25.4;break;case"%":break;case"em":case"rem":u.size*=16/.75;break;case"q":u.size*=96/25.4/4}return c[e]=u}},517:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.random=t.floor=t.max=t.min=void 0;const n=Math.min;t.min=n;const o=Math.max;t.max=o;const i=Math.floor;t.floor=i;const r=Math.random;t.random=r},500:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function a(e){try{u(o.next(e))}catch(e){r(e)}}function c(e){try{u(o.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.blur=void 0;const o="horizontal",i=5,r=({data:e,width:t,height:r},a=null)=>n(void 0,void 0,void 0,(function*(){const{direction:n=o,intensity:c=i}=a||{},u=new Uint8Array(e.length);u.set(e);for(let o=0;o<r;o++)for(let i=0;i<t;i++){let a=4*(o*t+i),f=0,d=0,s=0,l=0;for(let a=1;a<=c;a++)if("horizontal"===n){if(i+a<t){let n=4*(o*t+i+a);f+=e[n],d+=e[n+1],s+=e[n+2],l++}}else if("vertical"===n&&o+a<r){let n=4*((o+a)*t+i);f+=e[n],d+=e[n+1],s+=e[n+2],l++}u[a]=f/l,u[a+1]=d/l,u[a+2]=s/l}return u})),a={name:"blur",browser:r,node:r};t.blur=a},295:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.effectPool=void 0;const o=n(500),i=n(324),r=n(467),a=n(764),c=[o.blur,i.rectangles,r.degrade,a.pixelate];t.effectPool=c.reduce(((e,t)=>(e[t.name]=t.browser,e)),{})},467:function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function a(e){try{u(o.next(e))}catch(e){r(e)}}function c(e){try{u(o.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.degrade=void 0;const i=n(292),r=.075,a={name:"degrade",browser:({data:e,width:t,height:n},i=null)=>o(void 0,void 0,void 0,(function*(){const{quality:o=r}=i||{},a=new OffscreenCanvas(t,n),c=a.getContext("2d");if(!c)throw new Error("Failed to obtain context");const u=new ImageData(new Uint8ClampedArray(e.buffer),t,n);c.putImageData(u,0,0);const f=yield a.convertToBlob({type:"image/jpeg",quality:o}),d=yield window.createImageBitmap(f);c.clearRect(0,0,a.width,a.height),c.drawImage(d,0,0);const s=c.getImageData(0,0,t,n);return new Uint8Array(s.data.buffer)})),node:({data:e,width:t,height:n},a=null)=>o(void 0,void 0,void 0,(function*(){const{quality:o=r}=a||{},c=(0,i.createCanvas)(t,n),u=c.getContext("2d"),f=u.createImageData(t,n);f.data.set(e),u.putImageData(f,0,0);const d=c.toBuffer("image/jpeg",{quality:o}),s=new i.Image;s.src=d,u.clearRect(0,0,c.width,c.height),u.drawImage(s,0,0,s.width,s.height);const l=u.getImageData(0,0,t,n);return new Uint8Array(l.data)}))};t.degrade=a},764:function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function a(e){try{u(o.next(e))}catch(e){r(e)}}function c(e){try{u(o.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.pixelate=void 0;const i=n(292),r=8,a=({data:e,width:t,height:n},a=null)=>o(void 0,void 0,void 0,(function*(){const{intensity:o=r}=a||{},c=(0,i.createCanvas)(t,n),u=c.getContext("2d");let f=null;"undefined"!=typeof window?(f=new ImageData(new Uint8ClampedArray(e),t,n),null==u||u.putImageData(f,0,0)):(f=u.createImageData(t,n),f.data.set(e),u.putImageData(f,0,0));const d=(0,i.createCanvas)(t,n),s=d.getContext("2d");s.imageSmoothingEnabled=!1,s.drawImage(c,0,0,t/o,n/o),s.drawImage(d,0,0,t/o,n/o,0,0,t,n);const l=s.getImageData(0,0,t,n).data;return new Uint8Array(l.buffer)})),c={name:"pixelate",browser:a,node:a};t.pixelate=c},324:function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function a(e){try{u(o.next(e))}catch(e){r(e)}}function c(e){try{u(o.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.rectangles=void 0;const i=n(517),r=45,a=20,c=({data:e,width:t,height:n},c=null)=>o(void 0,void 0,void 0,(function*(){const{offset:o=r,intensity:u=a}=c||{},f=new Uint8Array(e),d=u,s=(0,i.max)(20,(0,i.min)(t,n)/50);for(let r=0;r<d;r++){const r=s+(0,i.floor)((0,i.random)()*(t-s)/o),a=s+(0,i.floor)((0,i.random)()*(n-s)/o),c=(0,i.floor)((0,i.random)()*(t-r)),u=(0,i.floor)((0,i.random)()*(n-a)),d=(0,i.floor)((0,i.random)()*t/o),l=(0,i.floor)((0,i.random)()*n/o),h=5+(0,i.floor)(15*(0,i.random)())*((0,i.random)()>.5?1:-1),v=(0,i.random)()<.15;for(let o=u;o<u+a;o++)for(let a=c;a<c+r;a++){const r=4*(o*t+a),c=4*((o+l)%n*t+(a+d)%t);for(let t=0;t<3;t++){let n=e[c+t]+h;v&&(n=255-n),n=(0,i.max)(0,(0,i.min)(255,n)),v&&n<50||(f[r+t]=n)}f[r+3]=e[c+3]}}return f})),u={name:"rectangles",browser:c,node:c};t.rectangles=u},564:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayPick=void 0,t.arrayPick=e=>e[Math.floor(Math.random()*e.length)]},513:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,i)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(749),t),i(n(564),t)},749:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomize=void 0,t.randomize=(e,t)=>Math.floor(Math.random()*(t-e+1)+e)},433:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function a(e){try{u(o.next(e))}catch(e){r(e)}}function c(e){try{u(o.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.bufferToBlob=void 0,t.bufferToBlob=({data:e,width:t,height:o})=>n(void 0,void 0,void 0,(function*(){const n=new OffscreenCanvas(t,o),i=n.getContext("2d"),r=new Uint8ClampedArray(e.buffer),a=new ImageData(r,t,o);return null==i||i.putImageData(a,0,0),n.convertToBlob().then((e=>{if(e)return URL.createObjectURL(e);throw new Error("Failed to create Blob from canvas image")}))}))},208:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function a(e){try{u(o.next(e))}catch(e){r(e)}}function c(e){try{u(o.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.fileToBuffer=void 0,t.fileToBuffer=e=>n(void 0,void 0,void 0,(function*(){return new Promise(((t,o)=>{const i=new FileReader;i.onload=()=>n(void 0,void 0,void 0,(function*(){const n=new Promise(((t,n)=>{const o=new Image;o.onload=()=>t(o),o.onerror=n,o.src=URL.createObjectURL(e)})),o=yield n,i=new OffscreenCanvas(o.width,o.height).getContext("2d");null==i||i.drawImage(o,0,0,o.width,o.height);const r=null==i?void 0:i.getImageData(0,0,o.width,o.height);URL.revokeObjectURL(o.src),t([r?new Uint8Array(r.data.buffer):null,o.width||0,o.height||0])})),i.onerror=()=>{o(new Error("Failed to read file"))},i.readAsArrayBuffer(e)}))}))},532:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,i)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t},a=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function a(e){try{u(o.next(e))}catch(e){r(e)}}function c(e){try{u(o.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.bufferToBlob=t.useMode=t.useEffect=t.getRandomEffect=t.getRandomMode=t.listEffects=t.listModes=t.stage=void 0;const c=n(513),u=n(468),f=n(951),d=n(208),s=n(433);Object.defineProperty(t,"bufferToBlob",{enumerable:!0,get:function(){return s.bufferToBlob}});const l=r(n(961)),h=n(295);t.stage=({data:e,url:t})=>a(void 0,void 0,void 0,(function*(){let[n,o,i]=[null,0,0];if(e?e instanceof File?[n,o,i]=yield(0,d.fileToBuffer)(e):Array.isArray(e)&&e[0]instanceof Uint8Array&&([n,o,i]=[...e]):t&&"string"==typeof t&&([n,o,i]=yield(0,u.urlToBuffer)(t)),!n||!o||!i)throw new Error("Failed to load image data");return{data:n,width:o,height:i}})),t.listModes=()=>Object.keys(l),t.listEffects=()=>Object.keys(h.effectPool),t.getRandomMode=()=>(0,c.arrayPick)(Object.keys(l)),t.getRandomEffect=()=>(0,c.arrayPick)(Object.keys(h.effectPool)),t.useEffect=({data:e,width:t,height:n},o,i)=>a(void 0,void 0,void 0,(function*(){return(0,f.useEffect)({data:e,width:t,height:n},h.effectPool,o,i)})),t.useMode=({data:e,width:t,height:n},o)=>a(void 0,void 0,void 0,(function*(){return(0,f.useMode)({data:e,width:t,height:n},h.effectPool,o)}))},468:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function a(e){try{u(o.next(e))}catch(e){r(e)}}function c(e){try{u(o.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.urlToBuffer=void 0,t.urlToBuffer=e=>n(void 0,void 0,void 0,(function*(){const t=yield fetch(e),n=yield t.blob(),o=new Promise(((e,t)=>{const o=new Image;o.onload=()=>e(o),o.onerror=t,o.src=URL.createObjectURL(n)})),i=yield o,r=new OffscreenCanvas(i.width,i.height).getContext("2d");null==r||r.drawImage(i,0,0,i.width,i.height);const a=null==r?void 0:r.getImageData(0,0,i.width,i.height);return URL.revokeObjectURL(i.src),[a?new Uint8Array(a.data.buffer):null,i.width||0,i.height||0]}))},858:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function a(e){try{u(o.next(e))}catch(e){r(e)}}function c(e){try{u(o.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.applyEffect=void 0,t.applyEffect=({data:e,width:t,height:o,effectPool:i,effect:r,options:a=null})=>n(void 0,void 0,void 0,(function*(){return new Promise(((c,u)=>n(void 0,void 0,void 0,(function*(){try{const n=yield((e,t)=>{for(let[n,o]of Object.entries(e))if(n===t)return o;return null})(i,r)({data:e,width:t,height:o},a);n?c({data:n,width:t,height:o}):u("Buffer is null")}catch(e){u(e)}}))))}))},221:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,i)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t},a=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function a(e){try{u(o.next(e))}catch(e){r(e)}}function c(e){try{u(o.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.applyMode=void 0;const c=r(n(961));t.applyMode=({data:e,width:t,height:n,mode:o,effectPool:i})=>a(void 0,void 0,void 0,(function*(){return new Promise(((r,u)=>a(void 0,void 0,void 0,(function*(){try{const a=yield(e=>{for(let[t,n]of Object.entries(c))if(t===e)return n;return null})(o)({data:e,width:t,height:n,effects:i});r({data:a,width:t,height:n})}catch(e){u(e)}}))))}))},111:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function a(e){try{u(o.next(e))}catch(e){r(e)}}function c(e){try{u(o.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.blobToBuffer=void 0,t.blobToBuffer=(e,t,o)=>n(void 0,void 0,void 0,(function*(){const n=yield createImageBitmap(e),i=new OffscreenCanvas(t,o).getContext("2d");if(!i)throw new Error("Failed to obtain context from `OffscreenCanvas`");i.drawImage(n,0,0);const r=i.getImageData(0,0,t,o);return new Uint8Array(r.data.buffer)}))},951:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,i)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(111),t),i(n(236),t),i(n(831),t),i(n(221),t),i(n(858),t)},236:function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function a(e){try{u(o.next(e))}catch(e){r(e)}}function c(e){try{u(o.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.useEffect=void 0;const i=n(858);t.useEffect=({data:e,width:t,height:n},r,a,c)=>o(void 0,void 0,void 0,(function*(){const o=Array.isArray(a)?a:[a];for(let a of o){if(!r[a])throw new Error("Invalid effect");const o=yield(0,i.applyEffect)({data:e,width:t,height:n,effectPool:r,effect:a,options:c});[e,t,n]=[o.data,o.width,o.height]}return{data:e,width:t,height:n}}))},831:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,i)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t},a=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function a(e){try{u(o.next(e))}catch(e){r(e)}}function c(e){try{u(o.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.useMode=void 0;const c=n(221),u=r(n(961));t.useMode=({data:e,width:t,height:n},o,i)=>a(void 0,void 0,void 0,(function*(){const r=Array.isArray(i)?i:[i];for(let i of r){if(!u.hasOwnProperty(i))throw new Error("Invalid mode");const r=yield(0,c.applyMode)({data:e,width:t,height:n,effectPool:o,mode:i});[e,t,n]=[r.data,r.width,r.height]}return{data:e,width:t,height:n}}))},53:function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function a(e){try{u(o.next(e))}catch(e){r(e)}}function c(e){try{u(o.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.chimera=void 0;const i=n(517),r=n(513),a=[.25,.5];t.chimera=({data:e,width:t,height:n,effects:c})=>o(void 0,void 0,void 0,(function*(){const u=(0,i.random)()>=.5?"horizontal":"vertical",f=(0,r.randomize)(5,10);e=(yield null==c?void 0:c.blur({data:e,width:t,height:n},{direction:u,intensity:f}))||e,e=yield(({data:e,width:t,height:n,weight:i=[.25,.5]})=>o(void 0,void 0,void 0,(function*(){for(let o=0;o<n;o++)for(let n=0;n<t;n++){let r=4*(o*t+n),a=e[r],c=e[r+1],u=e[r+2];e[r+0]=a+c*i[1]+u*i[0],e[r+1]=a*i[1]+c+u*i[0],e[r+2]=a*i[0]+c*i[1]+u}return e})))({data:e,width:t,height:n,weight:a});for(let t=0;t<e.length;t+=4){const n=(0,i.random)()<.2,o=(0,i.random)()<.4?(0,i.floor)(50*(0,i.random)()):0;for(let a=0;a<3;a++)e[t+a]=n?(0,i.min)(e[t+a]+(0,r.randomize)(1,0===a?15:10),255):e[t+a],e[t+a]=(0,i.min)(255,(0,i.max)(0,e[t+a]+((0,i.floor)(20*(0,i.random)())-30))),e[t+a]=o?(0,i.min)(255,(0,i.max)(0,e[t+a]+o)):e[t+a]}return e=(yield null==c?void 0:c.rectangles({data:e,width:t,height:n},{offset:45,intensity:20}))||e}))},961:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.chimera=void 0;const o=n(53);Object.defineProperty(t,"chimera",{enumerable:!0,get:function(){return o.chimera}})}},t={},function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={exports:{}};return e[o].call(r.exports,r,r.exports,n),r.exports}(532);var e,t}));